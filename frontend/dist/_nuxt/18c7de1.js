(window.webpackJsonp=window.webpackJsonp||[]).push([[86,26,27],{1069:function(t,e,n){"use strict";n.r(e);n(73),n(65),n(39),n(64),n(32);var r=n(2),o=n(644),c=n(37),l=n(289),d=n(641),f=r.a.extend({components:{HistoryChart:d.default},head:function(){return{title:"ヒトケタス"}},data:function(){return{showChart:!1,chartStyle:{width:"100%",height:"30vh"},historyDates:[]}},mounted:function(){var t=this;window.setTimeout((function(){t.initHistoryDates(),t.singleHistory()}),0)},methods:{initHistoryDates:function(){this.historyDates=o.a.getHistoryDates()},startGame:function(){this.$router.replace({path:"/game-plus-single/modeSingle"})},singleHistory:function(){var t=o.a.getEndressHistory(this.singleScores,this.historyDates),e=t._counts,n=t._scores;return e.reduce((function(a,t){return a+t}))>0&&(this.showChart=!0),o.a.chartObject(this.chartDates,n,e)}},computed:{scoreStore:function(){return Object(c.e)(l.default,this.$store)},scores:function(){return this.scoreStore.scores||[]},chartDates:function(){return this.historyDates.map((function(t){return"".concat(t.month,"/").concat(t.date)}))},singleScores:function(){return o.a.termFilteredScoreEntities("modeSingle",this.scores,this.historyDates)},chartOptions:function(){return o.a.chartOptions()}}}),m=n(80),h=n(92),v=n.n(h),j=n(200),y=n(428),_=n(424),x=n(483),k=n(160),w=n(1056),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",[n("v-col",{staticClass:"text-h5",attrs:{cols:"mr-auto"}},[t._v("\n      ヒトケタス\n    ")]),t._v(" "),n("v-col",{attrs:{cols:"auto"}},[n("v-btn",{attrs:{outlined:"",to:"/"}},[n("v-icon",[t._v("mdi-home-circle")]),t._v("ほーむ\n      ")],1)],1)],1),t._v(" "),n("v-card",{staticClass:"green lighten-5"},[t.showChart?n("HistoryChart",{staticClass:"mt-4",style:t.chartStyle,attrs:{data:t.singleHistory(),options:t.chartOptions}}):t._e(),t._v(" "),n("v-card-text",[n("v-row",{staticClass:"mt-2 mb-2"},[n("v-col",{staticClass:"text-subtitle-2",attrs:{cols:"mr-auto"}},[t._v("ひとけたのすうじをたして、こたえにする")]),t._v(" "),n("v-col",{attrs:{cols:"auto"}},[n("v-btn",{attrs:{color:"primary"},on:{click:function(e){return t.startGame("modeSingle")}}},[n("v-icon",[t._v("mdi-play")]),t._v("はじめる")],1)],1)],1)],1),t._v(" "),n("Ranking",{attrs:{gameMode:"modeSingle",questionCount:-1}})],1),t._v(" "),n("Chat",{attrs:{room:"all"}})],1)}),[],!1,null,null,null);e.default=component.exports;v()(component,{Ranking:n(640).default,Chat:n(482).default}),v()(component,{VBtn:j.a,VCard:y.a,VCardText:_.b,VCol:x.a,VIcon:k.a,VRow:w.a})},424:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return d})),n.d(e,"c",(function(){return f}));var r=n(428),o=n(3),c=Object(o.h)("v-card__actions"),l=Object(o.h)("v-card__subtitle"),d=Object(o.h)("v-card__text"),f=Object(o.h)("v-card__title");r.a},436:function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"e",(function(){return o})),n.d(e,"b",(function(){return c})),n.d(e,"f",(function(){return l})),n.d(e,"g",(function(){return d})),n.d(e,"a",(function(){return f})),n.d(e,"d",(function(){return m}));n(438),n(36),n(288),n(32);function r(t){return Number.isInteger(t)?"".concat(t):t.toFixed(2)}function o(t){return Number.isInteger(t)?t>0?"+".concat(t):"".concat(t):t>0?"+".concat(t.toFixed(2)):"".concat(t.toFixed(2))}function c(t,e){return"modeEndress"!==t&&"modeSingle"!==t&&"minusEndress"!==t&&"mul99Endress"!==t&&"mul1xEndress"!==t&&"mul9xEndress"!==t?e.toFixed(2):e}function l(t,e){return"modeEndress"==t||"modeSingle"==t||"minusEndress"==t||"mul99Endress"==t||"mul1xEndress"==t?t:"".concat(t,"-").concat(e)}function d(t){return"modeEndress"===t||"modeSingle"===t||"minusEndress"===t||"mul99Endress"===t||"mul1xEndress"==t||"mul9xEndress"==t?"desc":"asc"}function f(t){switch(t){case"modeSprint-10":case"minusSprint-10":case"mul99Sprint-10":case"mul1xSprint-10":case"mul9xSprint-10":return"10問モード";case"modeSprint-30":case"minusSprint-30":case"mul99Sprint-30":case"mul1xSprint-30":case"mul9xSprint-30":return"30問モード";case"modeEndress":case"minusEndress":case"mul99Endress":case"mul1xEndress":case"mul9xEndress":return"たいきゅうモード";case"modeSingle":return"ヒトケタス"}}function m(t){switch(t){case"modeSprint-10":return"たして１０ 10問モード";case"modeSprint-30":return"たして１０ 30問モード";case"modeEndress":return"たして１０ たいきゅうモード";case"modeSingle":return"ヒトケタス";case"minusSprint-10":return"ひきざん２０ 10問モード";case"minusSprint-30":return"ひきざん２０ 30問モード";case"minusEndress":return"ひきざん２０ たいきゅうモード";case"mul99Sprint-10":return"かけざん９９ 10問モード";case"mul99Sprint-30":return"かけざん９９ 30問モード";case"mul99Endress":return"かけざん９９ たいきゅうモード";case"mul1xSprint-10":return"かけざん１ｘ 10問モード";case"mul1xSprint-30":return"かけざん１ｘ 30問モード";case"mul1xEndress":return"かけざん１ｘ たいきゅうモード";case"mul9xSprint-10":return"かけざん９ｘ 10問モード";case"mul9xSprint-30":return"かけざん９ｘ 30問モード";case"mul9xEndress":return"かけざん９ｘ たいきゅうモード"}}},437:function(t,e,n){var content=n(479);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("176ff17c",content,!0,{sourceMap:!1})},438:function(t,e,n){n(7)({target:"Number",stat:!0},{isInteger:n(442)})},442:function(t,e,n){var r=n(38),o=Math.floor;t.exports=function(t){return!r(t)&&isFinite(t)&&o(t)===t}},443:function(t,e,n){var content=n(635);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("dcbd2ea6",content,!0,{sourceMap:!1})},478:function(t,e,n){"use strict";n(437)},479:function(t,e,n){var r=n(22)(!1);r.push([t.i,".chat-component[data-v-c092df9e]{position:fixed;right:0;bottom:0;text-align:right}.toggle-show-icon[data-v-c092df9e]{margin-right:.5rem;margin-bottom:1.5rem}#log-container[data-v-c092df9e]{width:100vw;max-height:calc(100vh - 172px);overflow:auto;background-color:rgba(0,0,0,.25)}#log-container>.log-item[data-v-c092df9e]{display:block}#log-container>.log-item>.name[data-v-c092df9e]{font-size:.8rem;font-weight:700}#log-container>.log-item>.comment[data-v-c092df9e]{display:inline-block;padding:.5rem;text-align:left}#log-container>.log-item.me>.comment[data-v-c092df9e]{background-color:#c5e1a5}#log-container .input-form[data-v-c092df9e]{width:90vw}",""]),t.exports=r},480:function(t,e,n){var content=n(481);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(23).default)("5276b867",content,!0,{sourceMap:!1})},481:function(t,e,n){var r=n(22)(!1);r.push([t.i,'.theme--light.v-badge .v-badge__badge:after{border-color:#fff}.theme--dark.v-badge .v-badge__badge:after{border-color:#1e1e1e}.v-badge{position:relative}.v-badge,.v-badge__badge{display:inline-block;line-height:1}.v-badge__badge{border-radius:10px;color:#fff;font-size:12px;height:20px;letter-spacing:0;min-width:20px;padding:4px 6px;pointer-events:auto;position:absolute;text-align:center;text-indent:0;top:auto;transition:.3s cubic-bezier(.25,.8,.5,1);white-space:nowrap}.v-application--is-ltr .v-badge__badge{right:auto}.v-application--is-rtl .v-badge__badge{left:auto}.v-badge__badge .v-icon{color:inherit;font-size:12px;margin:0 -2px}.v-badge__badge .v-img{height:12px;width:12px}.v-badge__wrapper{flex:0 1;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.v-badge--avatar .v-badge__badge{padding:0}.v-badge--avatar .v-badge__badge .v-avatar{height:20px!important;min-width:0!important;max-width:20px!important}.v-badge--bordered .v-badge__badge:after{border-radius:inherit;border-width:2px;border-style:solid;bottom:0;content:"";left:0;position:absolute;right:0;top:0;transform:scale(1.15)}.v-badge--dot .v-badge__badge{border-radius:4.5px;height:9px;min-width:0;padding:0;width:9px}.v-badge--dot .v-badge__badge:after{border-width:1.5px}.v-badge--icon .v-badge__badge{padding:4px 6px}.v-badge--inline{align-items:center;display:inline-flex;justify-content:center}.v-badge--inline .v-badge__badge,.v-badge--inline .v-badge__wrapper{position:relative}.v-badge--inline .v-badge__wrapper{margin:0 4px}.v-badge--tile .v-badge__badge{border-radius:0}',""]),t.exports=r},482:function(t,e,n){"use strict";n.r(e);var r=n(18),o=(n(59),n(64),n(12),n(30),n(9),n(2)),c=n(37),l=n(287),d=n(292),f=n(158),m=o.a.extend({props:{room:{type:String,default:""}},data:function(){return{show:!1,chatRead:null,comment:"",logs:[]}},mounted:function(){this.getLogs()},methods:{toggleShow:function(){var t=this;this.show=!this.show,this.$nextTick((function(){t.show&&t.logs.length>0&&t.updateChatRead(t.logs[t.logs.length-1])}))},getLogs:function(){var t=this;(console.log(this.room),this.room)&&f.a.database().ref(this.room).orderByChild("createdAt").limitToLast(10).on("value",(function(data){if(data){var e=data.val();e&&(t.logs=Object.keys(e).map((function(t){return e[t]})))}t.show&&t.updateChatRead(t.logs[t.logs.length-1])}))},updateChatRead:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.chatRead={room:e.room,timestamp:t.createdAt},e.chatStore.updateChatRead(e.chatRead),(r=e.$el.querySelector("#log-container"))&&(r.scrollTop=r.scrollHeight);case 4:case"end":return n.stop()}}),n)})))()},postComment:function(){if(this.comment&&!(this.comment.length>140)){if(this.room)f.a.database().ref(this.room).push({name:this.accountStore.account.name,comment:this.comment,createdAt:(new Date).getTime()});this.comment=""}},isMe:function(t){return t.name===this.accountStore.account.name}},computed:{accountStore:function(){return Object(c.e)(l.default,this.$store)},chatStore:function(){return Object(c.e)(d.default,this.$store)},showIconColor:function(){return this.show?"accent":"primary"},unreadCount:function(){var t=this.chatRead;return t?this.logs.filter((function(e){return e.createdAt>t.timestamp})).length:0}}}),h=(n(478),n(80)),v=n(92),j=n.n(v),y=(n(8),n(14),n(11),n(17),n(108)),_=n(4),x=(n(36),n(480),n(160)),k=n(41),w=n(45),O=n(67),S=o.a.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),C=n(124),E=n(15),z=n(3);function D(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var A=Object(E.a)(k.a,Object(C.b)(["left","bottom"]),w.a,O.a,S).extend({name:"v-badge",props:{avatar:Boolean,bordered:Boolean,color:{type:String,default:"primary"},content:{required:!1},dot:Boolean,label:{type:String,default:"$vuetify.badge"},icon:String,inline:Boolean,offsetX:[Number,String],offsetY:[Number,String],overlap:Boolean,tile:Boolean,transition:{type:String,default:"scale-rotate-transition"},value:{default:!0}},computed:{classes:function(){return function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?D(Object(source),!0).forEach((function(e){Object(_.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):D(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({"v-badge--avatar":this.avatar,"v-badge--bordered":this.bordered,"v-badge--bottom":this.bottom,"v-badge--dot":this.dot,"v-badge--icon":null!=this.icon,"v-badge--inline":this.inline,"v-badge--left":this.left,"v-badge--overlap":this.overlap,"v-badge--tile":this.tile},this.themeClasses)},computedBottom:function(){return this.bottom?"auto":this.computedYOffset},computedLeft:function(){return this.isRtl?this.left?this.computedXOffset:"auto":this.left?"auto":this.computedXOffset},computedRight:function(){return this.isRtl?this.left?"auto":this.computedXOffset:this.left?this.computedXOffset:"auto"},computedTop:function(){return this.bottom?this.computedYOffset:"auto"},computedXOffset:function(){return this.calcPosition(this.offsetX)},computedYOffset:function(){return this.calcPosition(this.offsetY)},isRtl:function(){return this.$vuetify.rtl},offset:function(){return this.overlap?this.dot?8:12:this.dot?2:4},styles:function(){return this.inline?{}:{bottom:this.computedBottom,left:this.computedLeft,right:this.computedRight,top:this.computedTop}}},methods:{calcPosition:function(t){return"calc(100% - ".concat(Object(z.f)(t||this.offset),")")},genBadge:function(){var t=this.$vuetify.lang,label=this.$attrs["aria-label"]||t.t(this.label),data=this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",style:this.styles,attrs:{"aria-atomic":this.$attrs["aria-atomic"]||"true","aria-label":label,"aria-live":this.$attrs["aria-live"]||"polite",title:this.$attrs.title,role:this.$attrs.role||"status"},directives:[{name:"show",value:this.isActive}]}),e=this.$createElement("span",data,[this.genBadgeContent()]);return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e},genBadgeContent:function(){if(!this.dot){var slot=Object(z.n)(this,"badge");return slot||(this.content?String(this.content):this.icon?this.$createElement(x.a,this.icon):void 0)}},genBadgeWrapper:function(){return this.$createElement("span",{staticClass:"v-badge__wrapper"},[this.genBadge()])}},render:function(t){var e=[this.genBadgeWrapper()],n=[Object(z.n)(this)],r=this.$attrs,o=(r["aria-atomic"],r["aria-label"],r["aria-live"],r.role,r.title,Object(y.a)(r,["aria-atomic","aria-label","aria-live","role","title"]));return this.inline&&this.left?n.unshift(e):n.push(e),t("span",{staticClass:"v-badge",attrs:o,class:this.classes},n)}}),R=n(200),B=n(428),M=n(194),$=n(1080),component=Object(h.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"chat-component"},[n("v-slide-y-reverse-transition",[t.show?n("div",{attrs:{id:"log-container"}},t._l(t.logs,(function(e,i){return n("div",{key:i,staticClass:"log-item",class:{me:t.isMe(e)},attrs:{id:"id-"+e.createdAt}},[n("div",{staticClass:"name"},[t._v(t._s(e.name))]),t._v(" "),n("v-card",{staticClass:"comment rounded-lg",attrs:{elevation:"2"}},[t._v(t._s(e.comment))])],1)})),0):t._e()]),t._v(" "),t.show?n("v-card",{staticClass:"input-form",attrs:{elevation:"2"}},[n("v-text-field",{attrs:{placeholder:"コメント",counter:"140",outlined:"",dense:""},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-btn",{attrs:{icon:""},on:{click:function(e){return t.postComment()}}},[n("v-icon",[t._v("mdi-send")])],1)]},proxy:!0}],null,!1,418245475),model:{value:t.comment,callback:function(e){t.comment=e},expression:"comment"}})],1):t._e(),t._v(" "),n("v-badge",{staticClass:"toggle-show-icon",attrs:{content:t.unreadCount,value:t.unreadCount,bordered:"",color:"info",overlap:""}},[n("v-btn",{attrs:{fab:"",dark:"",small:"",color:t.showIconColor},on:{click:function(e){return t.toggleShow()}}},[n("v-icon",[t._v("mdi-chat")])],1)],1)],1)}),[],!1,null,"c092df9e",null);e.default=component.exports;j()(component,{VBadge:A,VBtn:R.a,VCard:B.a,VIcon:x.a,VSlideYReverseTransition:M.e,VTextField:$.a})},483:function(t,e,n){"use strict";n(8),n(9),n(14),n(17);var r=n(4),o=(n(36),n(12),n(65),n(39),n(464),n(465),n(466),n(467),n(468),n(469),n(470),n(471),n(472),n(473),n(474),n(475),n(476),n(477),n(24),n(40),n(42),n(57),n(11),n(66),n(290),n(2)),c=n(90),l=n(3);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m=["sm","md","lg","xl"],h=m.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),v=m.reduce((function(t,e){return t["offset"+Object(l.x)(e)]={type:[String,Number],default:null},t}),{}),j=m.reduce((function(t,e){return t["order"+Object(l.x)(e)]={type:[String,Number],default:null},t}),{}),y={col:Object.keys(h),offset:Object.keys(v),order:Object.keys(j)};function _(t,e,n){var r=t;if(null!=n&&!1!==n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return"col"!==t||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()}}var x=new Map;e.a=o.a.extend({name:"v-col",functional:!0,props:f(f(f(f({cols:{type:[Boolean,String,Number],default:!1}},h),{},{offset:{type:[String,Number],default:null}},v),{},{order:{type:[String,Number],default:null}},j),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n=e.props,data=e.data,o=e.children,l=(e.parent,"");for(var d in n)l+=String(n[d]);var f=x.get(l);return f||function(){var t,e;for(e in f=[],y)y[e].forEach((function(t){var r=n[t],o=_(e,t,r);o&&f.push(o)}));var o=f.some((function(t){return t.startsWith("col-")}));f.push((t={col:!o||!n.cols},Object(r.a)(t,"col-".concat(n.cols),n.cols),Object(r.a)(t,"offset-".concat(n.offset),n.offset),Object(r.a)(t,"order-".concat(n.order),n.order),Object(r.a)(t,"align-self-".concat(n.alignSelf),n.alignSelf),t)),x.set(l,f)}(),t(n.tag,Object(c.a)(data,{class:f}),o)}})},634:function(t,e,n){"use strict";n(443)},635:function(t,e,n){var r=n(22)(!1);r.push([t.i,".rankings>*[data-v-6b8e6e58]{padding:.5rem;font-size:.8rem}.rankings+.rankings[data-v-6b8e6e58]{margin-top:.25rem;border-top:1px solid #e0e0e0}.rankings.rank-1 .name[data-v-6b8e6e58],.rankings.rank-1 .no[data-v-6b8e6e58]{font-size:1.8rem}.rankings.rank-2 .name[data-v-6b8e6e58],.rankings.rank-2 .no[data-v-6b8e6e58]{font-size:1.3rem}.rankings.rank-3 .name[data-v-6b8e6e58],.rankings.rank-3 .no[data-v-6b8e6e58]{font-size:1rem}.rankings.top10[data-v-6b8e6e58]{font-weight:700}.rankings.entry[data-v-6b8e6e58]{background-color:#f0f4c3}.rankings:nth-child(n+21)>*[data-v-6b8e6e58]{padding:.25rem .5rem;font-size:.6rem}.rankings:nth-child(n+51)>*[data-v-6b8e6e58]{padding:.1rem .5rem;font-size:.5rem}",""]),t.exports=r},640:function(t,e,n){"use strict";n.r(e);n(43),n(24),n(52),n(40),n(8),n(50),n(58),n(42);var r=n(18),o=(n(59),n(36),n(64),n(30),n(2)),c=n(158),l=n(37),d=n(287),f=n(436);function m(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var v=o.a.extend({props:{gameMode:{type:String,default:"modeEndress"},questionCount:{type:Number,default:0}},data:function(){return{daily:!0,rankings:[]}},mounted:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getRankings();case 2:case"end":return e.stop()}}),e)})))()},methods:{getRankings:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,q,r,o,l,d,f,h,v,j;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=c.a.firestore(),q=null,t.daily?(new Date,r=(new Date).setHours(0,0,0,0),q=n.collection("scores").where("mode","==",t.displayGameMode).where("createdAt","==",r).orderBy("score",t.orderBy).limit(100)):q=n.collection("scores").where("mode","==",t.displayGameMode).orderBy("score",t.orderBy).limit(100),e.next=6,q.get();case 6:if(o=e.sent,t.rankings=o.docs.map((function(t){var e=t.data();return e.no=0,e})),t.rankings.length>0){l=t.rankings[0].score,d=1,f=1,h=m(t.rankings);try{for(h.s();!(v=h.n()).done;)(j=v.value).score!=l&&(l=j.score,d=f),j.no=d,f++}catch(t){h.e(t)}finally{h.f()}}e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},toggle:function(){this.daily=!this.daily,this.getRankings()},isMe:function(t){return t.name==this.accountStore.account.name},displayScore:function(t){return Object(f.b)(this.gameMode,t)}},computed:{accountStore:function(){return Object(l.e)(d.default,this.$store)},displayGameMode:function(){return Object(f.f)(this.gameMode,this.questionCount)},orderBy:function(){return Object(f.g)(this.gameMode)}}}),j=(n(634),n(80)),y=n(92),_=n.n(y),x=n(200),k=n(428),w=n(424),O=n(483),S=n(160),C=n(1056),E=n(421),component=Object(j.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[n("v-card-title",[n("v-icon",[t._v("mdi-crown")]),t._v(" "),n("h3",[t._v("らんきんぐ")]),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"accent",small:"",disabled:t.daily},on:{click:function(e){return t.toggle()}}},[t._v("きょう")]),t._v(" "),n("v-btn",{attrs:{color:"accent",small:"",disabled:!t.daily},on:{click:function(e){return t.toggle()}}},[t._v("ぜんぶ")])],1),t._v(" "),n("v-card-text",t._l(t.rankings,(function(e,i){return n("v-row",{key:i,staticClass:"rankings",class:{entry:t.isMe(e),"rank-1":1==e.no,"rank-2":2==e.no,"rank-3":3==e.no,top10:e.no<=10}},[n("v-col",{staticClass:"no",attrs:{cols:"auto"}},[t._v(t._s(e.no))]),t._v(" "),n("v-col",{staticClass:"name",attrs:{cols:"mr-auto"}},[t._v(t._s(e.name))]),t._v(" "),n("v-col",{staticClass:"value",attrs:{cols:"auto"}},[t._v(t._s(t.displayScore(e.score)))])],1)})),1)],1)}),[],!1,null,"6b8e6e58",null);e.default=component.exports;_()(component,{VBtn:x.a,VCard:k.a,VCardText:w.b,VCardTitle:w.c,VCol:O.a,VIcon:S.a,VRow:C.a,VSpacer:E.a})},641:function(t,e,n){"use strict";n.r(e);var r={extends:n(689).a,props:["data","options"],mounted:function(){this.renderChart(this.data,this.options)}},o=n(80),component=Object(o.a)(r,undefined,undefined,!1,null,null,null);e.default=component.exports},644:function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n(43),n(24),n(30),n(52),n(40),n(8),n(50),n(58),n(42);var r=n(25),o=n(33);n(9),n(64);function c(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,r=function(){};return{s:r,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return c=t.done,t},e:function(t){d=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var d=function(){function t(){Object(r.a)(this,t)}return Object(o.a)(t,null,[{key:"getHistoryDates",value:function(){var t=[],e=new Date;e.setHours(0,0,0),e.setMilliseconds(0),e.setDate(e.getDate()-30);for(var i=0;i<32;i++)t.push({month:e.getMonth()+1,date:e.getDate(),time:e.getTime(),time1:e.getTime()+864e5}),e.setDate(e.getDate()+1);return t}},{key:"sprintHistory",value:function(e,n,r){var o=t.getSprintHistory(e,r),c=o._counts,l=o._scores;return t.chartObject(n,l,c)}},{key:"termFilteredScoreEntities",value:function(t,e,n){if(0==n.length)return[];var r=n[0].time,o=n[n.length-1].time1;return e.filter((function(e){return e.mode===t})).filter((function(t){return t.createdAt>=r})).filter((function(t){return t.createdAt<o}))}},{key:"getSprintHistory",value:function(t,e){var n,r=[],o=[],l=c(e);try{var d=function(){var e=n.value,c=t.filter((function(t){return e.time<=t.createdAt&&t.createdAt<e.time1}));r.push(c.length),c.length>0?o.push(c.map((function(t){return t.score})).reduce((function(a,t){return Math.min(a,t)}))):o.push(0)};for(l.s();!(n=l.n()).done;)d()}catch(t){l.e(t)}finally{l.f()}return{_counts:r,_scores:o}}},{key:"getEndressHistory",value:function(t,e){var n,r=[],o=[],l=c(e);try{var d=function(){var e=n.value,c=t.filter((function(t){return e.time<=t.createdAt&&t.createdAt<e.time1}));r.push(c.length),c.length>0?o.push(c.map((function(t){return t.score})).reduce((function(a,t){return Math.max(a,t)}))):o.push(0)};for(l.s();!(n=l.n()).done;)d()}catch(t){l.e(t)}finally{l.f()}return{_counts:r,_scores:o}}},{key:"chartObject",value:function(t,e,n){return{labels:t,datasets:[{label:"じかん",data:e,borderColor:"#FFC107",backgroundColor:"transparent",yAxisID:"y-axis-1"},{label:"かいすう",data:n,borderColor:"#009688",backgroundColor:"transparent",yAxisID:"y-axis-2"}]}}},{key:"chartOptions",value:function(){var t="#888",e="#ddd";return{responsive:!0,maintainAspectRatio:!1,legend:{fontColor:t},scales:{yAxes:[{id:"y-axis-1",type:"linear",position:"left",ticks:{fontColor:t},gridLines:{display:!1,color:e}},{id:"y-axis-2",type:"linear",position:"right",ticks:{fontColor:t},gridLines:{display:!1,color:e}}],xAxes:[{ticks:{fontColor:t},gridLines:{color:"#ddd"}}]}}}}]),t}()},685:function(t,e,n){var map={"./af":485,"./af.js":485,"./ar":486,"./ar-dz":487,"./ar-dz.js":487,"./ar-kw":488,"./ar-kw.js":488,"./ar-ly":489,"./ar-ly.js":489,"./ar-ma":490,"./ar-ma.js":490,"./ar-sa":491,"./ar-sa.js":491,"./ar-tn":492,"./ar-tn.js":492,"./ar.js":486,"./az":493,"./az.js":493,"./be":494,"./be.js":494,"./bg":495,"./bg.js":495,"./bm":496,"./bm.js":496,"./bn":497,"./bn-bd":498,"./bn-bd.js":498,"./bn.js":497,"./bo":499,"./bo.js":499,"./br":500,"./br.js":500,"./bs":501,"./bs.js":501,"./ca":502,"./ca.js":502,"./cs":503,"./cs.js":503,"./cv":504,"./cv.js":504,"./cy":505,"./cy.js":505,"./da":506,"./da.js":506,"./de":507,"./de-at":508,"./de-at.js":508,"./de-ch":509,"./de-ch.js":509,"./de.js":507,"./dv":510,"./dv.js":510,"./el":511,"./el.js":511,"./en-au":512,"./en-au.js":512,"./en-ca":513,"./en-ca.js":513,"./en-gb":514,"./en-gb.js":514,"./en-ie":515,"./en-ie.js":515,"./en-il":516,"./en-il.js":516,"./en-in":517,"./en-in.js":517,"./en-nz":518,"./en-nz.js":518,"./en-sg":519,"./en-sg.js":519,"./eo":520,"./eo.js":520,"./es":521,"./es-do":522,"./es-do.js":522,"./es-mx":523,"./es-mx.js":523,"./es-us":524,"./es-us.js":524,"./es.js":521,"./et":525,"./et.js":525,"./eu":526,"./eu.js":526,"./fa":527,"./fa.js":527,"./fi":528,"./fi.js":528,"./fil":529,"./fil.js":529,"./fo":530,"./fo.js":530,"./fr":531,"./fr-ca":532,"./fr-ca.js":532,"./fr-ch":533,"./fr-ch.js":533,"./fr.js":531,"./fy":534,"./fy.js":534,"./ga":535,"./ga.js":535,"./gd":536,"./gd.js":536,"./gl":537,"./gl.js":537,"./gom-deva":538,"./gom-deva.js":538,"./gom-latn":539,"./gom-latn.js":539,"./gu":540,"./gu.js":540,"./he":541,"./he.js":541,"./hi":542,"./hi.js":542,"./hr":543,"./hr.js":543,"./hu":544,"./hu.js":544,"./hy-am":545,"./hy-am.js":545,"./id":546,"./id.js":546,"./is":547,"./is.js":547,"./it":548,"./it-ch":549,"./it-ch.js":549,"./it.js":548,"./ja":550,"./ja.js":550,"./jv":551,"./jv.js":551,"./ka":552,"./ka.js":552,"./kk":553,"./kk.js":553,"./km":554,"./km.js":554,"./kn":555,"./kn.js":555,"./ko":556,"./ko.js":556,"./ku":557,"./ku.js":557,"./ky":558,"./ky.js":558,"./lb":559,"./lb.js":559,"./lo":560,"./lo.js":560,"./lt":561,"./lt.js":561,"./lv":562,"./lv.js":562,"./me":563,"./me.js":563,"./mi":564,"./mi.js":564,"./mk":565,"./mk.js":565,"./ml":566,"./ml.js":566,"./mn":567,"./mn.js":567,"./mr":568,"./mr.js":568,"./ms":569,"./ms-my":570,"./ms-my.js":570,"./ms.js":569,"./mt":571,"./mt.js":571,"./my":572,"./my.js":572,"./nb":573,"./nb.js":573,"./ne":574,"./ne.js":574,"./nl":575,"./nl-be":576,"./nl-be.js":576,"./nl.js":575,"./nn":577,"./nn.js":577,"./oc-lnc":578,"./oc-lnc.js":578,"./pa-in":579,"./pa-in.js":579,"./pl":580,"./pl.js":580,"./pt":581,"./pt-br":582,"./pt-br.js":582,"./pt.js":581,"./ro":583,"./ro.js":583,"./ru":584,"./ru.js":584,"./sd":585,"./sd.js":585,"./se":586,"./se.js":586,"./si":587,"./si.js":587,"./sk":588,"./sk.js":588,"./sl":589,"./sl.js":589,"./sq":590,"./sq.js":590,"./sr":591,"./sr-cyrl":592,"./sr-cyrl.js":592,"./sr.js":591,"./ss":593,"./ss.js":593,"./sv":594,"./sv.js":594,"./sw":595,"./sw.js":595,"./ta":596,"./ta.js":596,"./te":597,"./te.js":597,"./tet":598,"./tet.js":598,"./tg":599,"./tg.js":599,"./th":600,"./th.js":600,"./tk":601,"./tk.js":601,"./tl-ph":602,"./tl-ph.js":602,"./tlh":603,"./tlh.js":603,"./tr":604,"./tr.js":604,"./tzl":605,"./tzl.js":605,"./tzm":606,"./tzm-latn":607,"./tzm-latn.js":607,"./tzm.js":606,"./ug-cn":608,"./ug-cn.js":608,"./uk":609,"./uk.js":609,"./ur":610,"./ur.js":610,"./uz":611,"./uz-latn":612,"./uz-latn.js":612,"./uz.js":611,"./vi":613,"./vi.js":613,"./x-pseudo":614,"./x-pseudo.js":614,"./yo":615,"./yo.js":615,"./zh-cn":616,"./zh-cn.js":616,"./zh-hk":617,"./zh-hk.js":617,"./zh-mo":618,"./zh-mo.js":618,"./zh-tw":619,"./zh-tw.js":619};function r(t){var e=o(t);return n(e)}function o(t){if(!n.o(map,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return map[t]}r.keys=function(){return Object.keys(map)},r.resolve=o,t.exports=r,r.id=685}}]);