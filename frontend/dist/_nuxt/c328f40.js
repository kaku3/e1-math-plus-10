(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{575:function(e,t,n){"use strict";t.a=n.p+"assets/se/finish.mp3"},596:function(e,t,n){var content=n(616);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(26).default)("dfadde1a",content,!0,{sourceMap:!1})},615:function(e,t,n){"use strict";n(596)},616:function(e,t,n){var r=n(25)(!1);r.push([e.i,'.game[data-v-e6c8a962]{position:relative}.game>.ready[data-v-e6c8a962]{top:0;left:0;height:100%;font-family:"Fredoka One";background-color:rgba(0,0,0,.5)}.game>.ready[data-v-e6c8a962],.game>.ready>*[data-v-e6c8a962]{position:absolute;width:100%;text-align:center}.game>.ready>*[data-v-e6c8a962]{top:50%;transform:translateY(-50%);color:#fff;font-size:4rem}.ex-canvas[data-v-e6c8a962]{height:16vh}.ex-canvas>*[data-v-e6c8a962]{padding:.25rem;font-size:3rem;font-family:"Fredoka One";line-height:1;height:4rem;text-align:center}.ex-canvas>.answer[data-v-e6c8a962]{position:relative;border:2px solid #ff9800;border-radius:4px}.score-container>.label[data-v-e6c8a962]{font-weight:700}.score-container>.value[data-v-e6c8a962]{font-family:"Fredoka One";font-size:1.6rem}.effect[data-v-e6c8a962]{position:absolute;top:0;left:0;font-family:"Fredoka One";font-size:2rem}',""]),e.exports=r},653:function(e,t,n){"use strict";n.r(t);n(277),n(36),n(64),n(38),n(72),n(30),n(32);var r=n(2),o=n(583),c=n(581),d=n(44),l=n(275),m=n(276),h=n(586),f=n(587),v=n(588),w=n(575),_=n(589);var T=r.a.extend({mixins:[o.default],components:{NumPad:c.default},props:{gameMode:{type:String,default:"minusEndress"},questionCount:{type:Number,default:0}},data:function(){return{mode:"",readyCount:0,score:0,score2:0,question1:0,question2:0,answer:0,startTime:0,answerTime:0,gameStartTime:0,gameTime:0,penaltyTime:0,progress:0,effects:{answer:"",answerTimerId:-1}}},mounted:function(){this.startGame()},destroyed:function(){console.log("destroyed"),this.endGame()},methods:{goGameIndex:function(){console.log(this.gameMode,this.questionCount),this.$router.replace({name:"game-minus-20",params:{mode:this.gameMode,count:"".concat(this.questionCount)}})},startGame:function(){this.score=0,this.score2=0,this.gameTime=0,this.penaltyTime=0,this.question1=0,this.question2=0,this.answer=0,this.ready()},onNext:function(){this.next()},onUpdateProgress:function(){this.updateProgress()&&(this.endGame(),this.addEndressScore(),new Audio(_.a).play())},next:function(){this.$refs.numPad.reset();var q=Math.floor(3+4*Math.random());10===this.questionCount?q+=Math.random()*Math.floor(this.score/2)*7:q+=Math.random()*Math.floor(this.score/4)*7,this.question1=Math.floor(q)%17,this.question1=Math.max(this.question1,3);do{this.question2=Math.floor(Math.random()*this.question1)+1}while(this.question1-this.question2>=10||this.question1-this.question2<=0);this.answer=0,this.startTime=(new Date).getTime(),this.answerTime=1e4-3e3*Math.floor(this.score/5),this.answerTime=Math.max(this.answerTime,2e3)},onTap:function(e,t){this.onAnswer(e)},onAnswer:function(e){if("game"===this.mode)if(this.updateGameTime(),this.question1-this.question2===e){if(this.score+=1,"minusEndress"===this.gameMode){var time=this.answerTime-((new Date).getTime()-this.startTime);time=Math.max(time,0),this.score2+=Math.floor(time/20)}if(this.updateProgress(),this.answerEffect("o ".concat(e)),new Audio(f.a).play(),"minusSprint"===this.gameMode)if(this.score===this.questionCount)return this.endGame(),this.addSprintScore(),void new Audio(w.a).play();this.next()}else{this.answer=e,this.penaltyTime+=1e3,this.answerTime-=1e3,this.answerEffect("x"),new Audio(v.a).play()}},answerEffect:function(e){var t=this;this.effects.answer=e,-1!=this.effects.answerTimerId&&window.clearTimeout(this.effects.answerTimerId),this.effects.answerTimerId=window.setTimeout((function(){t.effects.answerTimerId=-1}),1e3)},getDisplayTime:function(){return(this.gameTime+this.penaltyTime)/1e3},updateProgress:function(){if("minusEndress"===this.gameMode){var time=this.answerTime-((new Date).getTime()-this.startTime);return time=Math.max(time,0),this.progress=100*time/this.answerTime,0===time}return this.progress=100*this.score/this.questionCount,!1},updateGameTime:function(){this.gameTime=(new Date).getTime()-this.gameStartTime},addSprintScore:function(){var e=this.accountStore.account.name,t={mode:"".concat(this.gameMode,"-").concat(this.questionCount),name:e,score:this.getDisplayTime(),createdAt:this.gameStartTime};this.scoreStore.addScore(t),Object(h.a)(t)},addEndressScore:function(){if(0!==this.score2){var e=this.accountStore.account.name,t={mode:"".concat(this.gameMode),name:e,score:this.score2,createdAt:this.gameStartTime};this.scoreStore.addScore(t),Object(h.a)(t)}}},computed:{accountStore:function(){return Object(d.e)(l.default,this.$store)},scoreStore:function(){return Object(d.e)(m.default,this.$store)},isEnd:function(){return"end"===this.mode},isReady:function(){return"ready"===this.mode},isGame:function(){return"game"===this.mode||"ready"===this.mode},isSprint:function(){return"minusSprint"===this.gameMode},isEndress:function(){return"minusEndress"===this.gameMode},displayScore:function(){return"minusSprint"===this.gameMode?this.score:this.score2},showAnswerEffect:function(){return-1!=this.effects.answerTimerId}},filters:{answered:function(e){return 0!==e?e:""},time2:function(e){return e.toFixed(2)}}}),x=(n(615),n(91)),y=n(122),C=n.n(y),S=n(193),M=n(413),E=n(411),G=n(706),k=n(156),A=n(412),I=n(707),O=n(187),P=n(406),component=Object(x.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game"},[e.isEnd?n("v-card",[n("Hiscore",{attrs:{gameMode:e.gameMode,questionCount:e.questionCount}})],1):e._e(),e._v(" "),n("v-card",[n("v-card-text",{staticClass:"green lighten-4"},[n("v-row",{staticClass:"score-container"},[e.isSprint?n("v-col",{staticClass:"label",attrs:{cols:"auto"}},[e._v("じかん")]):e._e(),e._v(" "),e.isSprint?n("v-col",{staticClass:"value",attrs:{cols:"auto"}},[e._v(e._s(e._f("time2")(e.getDisplayTime())))]):e._e(),e._v(" "),n("v-spacer"),e._v(" "),n("v-col",{staticClass:"label",attrs:{cols:"auto"}},[e._v("とくてん")]),e._v(" "),n("v-col",{staticClass:"value",attrs:{cols:"auto"}},[e._v(e._s(e.displayScore))])],1)],1),e._v(" "),e.isEnd?n("v-card-text",{staticClass:"green lighten-5"},[n("v-row",{staticClass:"ex-canvas text-center"},[n("v-col",{attrs:{cols:"12","align-self":"center"}},[n("v-btn",{attrs:{large:"",outlined:""},on:{click:function(t){return e.goGameIndex()}}},[n("v-icon",[e._v("mdi-playlist-edit")]),e._v("ひきざん２０\n          ")],1),e._v(" "),n("v-btn",{attrs:{"x-large":"",color:"blue",dark:""},on:{click:function(t){return e.startGame()}}},[e._v("\n            もういちど\n          ")])],1),e._v(" "),n("v-col",{attrs:{"align-self":"center"}},[n("v-btn",{attrs:{to:"/"}},[n("v-icon",[e._v("mdi-home-circle")]),e._v("ほーむ\n          ")],1)],1)],1)],1):e.isGame?n("v-card-text",{staticClass:"green lighten-5"},[n("v-row",{staticClass:"ex-canvas"},[n("v-col",{staticClass:"blue-grey--text",attrs:{"align-self":"center"}},[e._v("\n          "+e._s(e.question1)+"\n        ")]),e._v(" "),n("v-col",{staticClass:"blue--text",attrs:{"align-self":"center"}},[e._v("\n          -\n        ")]),e._v(" "),n("v-col",{staticClass:"teal--text",attrs:{"align-self":"center"}},[e._v("\n          "+e._s(e.question2)+"\n        ")]),e._v(" "),n("v-col",{staticClass:"light-green--text",attrs:{"align-self":"center"}},[e._v("\n          =\n        ")]),e._v(" "),n("v-col",{staticClass:"amber--text answer",attrs:{"align-self":"center"}},[e._v("\n          "+e._s(e._f("answered")(e.answer))+"\n          "),n("v-slide-y-reverse-transition",[e.showAnswerEffect?n("div",{staticClass:"effect orange--text"},[e._v("\n              "+e._s(e.effects.answer)+"\n            ")]):e._e()])],1)],1),e._v(" "),n("v-progress-linear",{attrs:{color:"blue darken-2",height:"8"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1):e._e()],1),e._v(" "),e.isGame?n("NumPad",{ref:"numPad",on:{tap:e.onTap}}):e._e(),e._v(" "),e.isEnd?n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("Calendar")],1),e._v(" "),n("v-col",{attrs:{cols:"12"}},[n("Share")],1)],1):e._e()],1)}),[],!1,null,"e6c8a962",null);t.default=component.exports;C()(component,{Hiscore:n(582).default,Calendar:n(570).default,Share:n(571).default}),C()(component,{VBtn:S.a,VCard:M.a,VCardText:E.b,VCol:G.a,VIcon:k.a,VProgressLinear:A.a,VRow:I.a,VSlideYReverseTransition:O.d,VSpacer:P.a})}}]);