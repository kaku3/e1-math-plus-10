(window.webpackJsonp=window.webpackJsonp||[]).push([[18,12],{395:function(e,n,t){var content=t(403);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,t(18).default)("04aa9c80",content,!0,{sourceMap:!1})},396:function(e,n,t){"use strict";var r=t(544);r.a.apps.length||r.a.initializeApp({apiKey:"AIzaSyBPRPy3WoSQRf52xE-NlrGElb_8AAY1HJk",authDomain:"https://github.com/kaku3/e1-math-plus-10/frontend/dist/",projectId:"e1-math-plus-10",storageBucket:"e1-math-plus-10.appspot.com",messagingSenderId:"424444487938",appId:"1:424444487938:web:29f26a55d55456fd283a1b",measurementId:"G-8GDB4K618G"}),n.a=r.a},402:function(e,n,t){"use strict";t(395)},403:function(e,n,t){var r=t(17)(!1);r.push([e.i,".rankings>*[data-v-e503712c]{padding:.5rem;font-size:.8rem}.rankings+.rankings[data-v-e503712c]{margin-top:.25rem;border-top:1px solid #e0e0e0}.rankings.rank-1 .name[data-v-e503712c],.rankings.rank-1 .no[data-v-e503712c]{font-size:1.8rem}.rankings.rank-2 .name[data-v-e503712c],.rankings.rank-2 .no[data-v-e503712c]{font-size:1.3rem}.rankings.rank-3 .name[data-v-e503712c],.rankings.rank-3 .no[data-v-e503712c]{font-size:1rem}.rankings.top10[data-v-e503712c]{font-weight:700}.rankings.entry[data-v-e503712c]{background-color:#f0f4c3}",""]),e.exports=r},541:function(e,n,t){"use strict";t.r(n);t(35),t(19),t(48),t(34),t(5),t(42),t(50),t(39);var r=t(23),o=(t(70),t(25),t(55),t(24),t(263),t(26),t(0)),c=t(396),l=t(51),d=t(262);function f(e,n){var t;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"==typeof e)return m(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return m(e,n)}(e))||n&&e&&"number"==typeof e.length){t&&(e=t);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){t=e[Symbol.iterator]()},n:function(){var e=t.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==t.return||t.return()}finally{if(l)throw o}}}}function m(e,n){(null==n||n>e.length)&&(n=e.length);for(var i=0,t=new Array(n);i<n;i++)t[i]=e[i];return t}var v=o.a.extend({props:{gameMode:{type:String,default:"modeEndress"},questionCount:{type:Number,default:0}},data:function(){return{daily:!0,rankings:[]}},mounted:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.getRankings();case 2:case"end":return n.stop()}}),n)})))()},methods:{getRankings:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var t,q,r,o,l,d,m,v,k,h;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,t=c.a.firestore(),q=null,e.daily?(new Date,r=(new Date).setHours(0,0,0,0),q=t.collection("scores").where("mode","==",e.displayGameMode).where("createdAt","==",r).orderBy("score","modeEndress"===e.gameMode?"desc":"asc").limit(100)):q=t.collection("scores").where("mode","==",e.displayGameMode).orderBy("score","modeEndress"===e.gameMode?"desc":"asc").limit(100),n.next=6,q.get();case 6:if(o=n.sent,e.rankings=o.docs.map((function(e){var n=e.data();return n.no=0,n})),e.rankings.length>0){l=e.rankings[0].score,d=1,m=1,v=f(e.rankings);try{for(v.s();!(k=v.n()).done;)(h=k.value).score!=l&&(l=h.score,d=m),h.no=d,m++}catch(e){v.e(e)}finally{v.f()}}n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()},toggle:function(){this.daily=!this.daily,this.getRankings()},isMe:function(e){return e.name==this.accountStore.account.name},displayScore:function(e){return"modeEndress"!==this.gameMode?e.toFixed(2):e}},computed:{accountStore:function(){return Object(l.e)(d.default,this.$store)},displayGameMode:function(){return"modeEndress"==this.gameMode?this.gameMode:"".concat(this.gameMode,"-").concat(this.questionCount)}}}),k=(t(402),t(84)),h=t(114),y=t.n(h),_=t(188),w=t(547),x=t(394),M=t(623),S=t(165),C=t(624),R=t(389),component=Object(k.a)(v,(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-card",[t("v-card-title",[t("v-icon",[e._v("mdi-crown")]),e._v(" "),t("h3",[e._v("らんきんぐ")]),e._v(" "),t("v-spacer"),e._v(" "),t("v-btn",{attrs:{color:"accent",small:"",disabled:e.daily},on:{click:function(n){return e.toggle()}}},[e._v("きょう")]),e._v(" "),t("v-btn",{attrs:{color:"accent",small:"",disabled:!e.daily},on:{click:function(n){return e.toggle()}}},[e._v("ぜんぶ")])],1),e._v(" "),t("v-card-text",e._l(e.rankings,(function(n,i){return t("v-row",{key:i,staticClass:"rankings",class:{entry:e.isMe(n),"rank-1":1==n.no,"rank-2":2==n.no,"rank-3":3==n.no,top10:n.no<=10}},[t("v-col",{staticClass:"no",attrs:{cols:"auto"}},[e._v(e._s(n.no))]),e._v(" "),t("v-col",{staticClass:"name",attrs:{cols:"auto"}},[e._v(e._s(n.name))]),e._v(" "),t("v-spacer"),e._v(" "),t("v-col",{staticClass:"value",attrs:{cols:"auto"}},[e._v(e._s(e.displayScore(n.score)))])],1)})),1)],1)}),[],!1,null,"e503712c",null);n.default=component.exports;y()(component,{VBtn:_.a,VCard:w.a,VCardText:x.b,VCardTitle:x.c,VCol:M.a,VIcon:S.a,VRow:C.a,VSpacer:R.a})},633:function(e,n,t){"use strict";t.r(n);var r=t(84),component=Object(r.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("Ranking")}),[],!1,null,null,null);n.default=component.exports;installComponents(component,{Ranking:t(541).default})}}]);