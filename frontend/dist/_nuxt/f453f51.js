(window.webpackJsonp=window.webpackJsonp||[]).push([[6,15,24],{411:function(e,t,r){"use strict";r.d(t,"a",(function(){return c})),r.d(t,"b",(function(){return d})),r.d(t,"c",(function(){return f}));var n=r(412),o=r(3),c=Object(o.g)("v-card__actions"),l=Object(o.g)("v-card__subtitle"),d=Object(o.g)("v-card__text"),f=Object(o.g)("v-card__title");n.a},423:function(e,t,r){var content=r(573);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(26).default)("6c19490c",content,!0,{sourceMap:!1})},424:function(e,t,r){var content=r(575);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(26).default)("29813b86",content,!0,{sourceMap:!1})},563:function(e,t,r){"use strict";function n(e){return{mode:e,name:"",score:0,createdAt:0}}r.d(t,"a",(function(){return n}))},564:function(e,t,r){var content=r(580);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(26).default)("101ba4e5",content,!0,{sourceMap:!1})},572:function(e,t,r){"use strict";r(423)},573:function(e,t,r){var n=r(25)(!1);n.push([e.i,".shake[data-v-39a36163]{-webkit-animation:shake-data-v-39a36163 1s linear infinite;animation:shake-data-v-39a36163 1s linear infinite}@-webkit-keyframes shake-data-v-39a36163{0%{transform:rotate(0)}40%{transform:rotate(-10deg)}80%{transform:rotate(10deg)}to{transform:rotate(0)}}@keyframes shake-data-v-39a36163{0%{transform:rotate(0)}40%{transform:rotate(-10deg)}80%{transform:rotate(10deg)}to{transform:rotate(0)}}",""]),e.exports=n},574:function(e,t,r){"use strict";r(424)},575:function(e,t,r){var n=r(25)(!1);n.push([e.i,"a[data-v-66b1ffd0]{text-decoration:none}",""]),e.exports=n},577:function(e,t,r){"use strict";r.r(t);r(9);var n=r(2),o=r(44),c=r(276),l=n.a.extend({mounted:function(){},methods:{starsOf:function(e){console.log(this);var dd=new Date(e),t=dd.setHours(0,0,0,0),r=dd.setDate(dd.getDate()+1),n=this.scores.filter((function(e){return e.createdAt>=t})).filter((function(e){return e.createdAt<r}));return n.length>=10?3:n.length>=4?2:n.length>=1?1:0}},computed:{scoreStore:function(){return Object(o.e)(c.default,this.$store)},scores:function(){return this.scoreStore.scores||[]}}}),d=(r(572),r(91)),f=r(122),m=r.n(f),v=r(694),h=r(412),w=r(156),component=Object(d.a)(l,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-calendar",{attrs:{weekdays:[0,1,2,3,4,5,6],type:e.month},scopedSlots:e._u([{key:"day",fn:function(t){var n=t.date;return e._l(e.starsOf(n),(function(t,i){return r("span",{key:i},[r("v-icon",{staticClass:"shake"},[e._v("mdi-star")])],1)}))}}])})],1)}),[],!1,null,"39a36163",null);t.default=component.exports;m()(component,{VCalendar:v.a,VCard:h.a,VIcon:w.a})},578:function(e,t,r){"use strict";r.r(t);var n=r(2).a.extend({data:function(){return{networks:[{network:"email",icon:"mdi-email",name:"Email"},{network:"facebook",icon:"mdi-facebook",name:"Facebook"},{network:"twitter",icon:"mdi-twitter",name:"twitter"},{network:"line",icon:"mdi-share",name:"LINE"}],url:"https://kaku3.github.io/e1-math-plus-10/frontend/dist/",title:"小１からのさんすうゲーム",description:"小学生用さんすうゲーム。成長の記録が残ります。簡単な脳トレとしても親子であそべます。"}}}),o=(r(574),r(91)),c=r(122),l=r.n(c),d=r(156),component=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",e._l(e.networks,(function(t,i){return r("share-network",{key:i,attrs:{network:t.network,url:e.url,title:e.title,description:e.description}},[r("v-icon",[e._v(e._s(t.icon))]),e._v(" "+e._s(t.name)+"\n  ")],1)})),1)}),[],!1,null,"66b1ffd0",null);t.default=component.exports;l()(component,{VIcon:d.a})},579:function(e,t,r){"use strict";r(564)},580:function(e,t,r){var n=r(25)(!1);n.push([e.i,'.title[data-v-082c8bcc]{padding:.5rem .25rem}.rankings>*[data-v-082c8bcc]{padding:.25rem}.rankings+.rankings[data-v-082c8bcc]{margin-top:.25rem;border-top:1px solid #e0e0e0}.entry[data-v-082c8bcc]{background-color:#f0f4c3}.value[data-v-082c8bcc]{font-family:"Fredoka One";font-size:1.5rem}',""]),e.exports=n},584:function(e,t,r){"use strict";r.r(t);r(36),r(30),r(278),r(63),r(32),r(41),r(22),r(51),r(39),r(8),r(49),r(56),r(42);var n=r(2),o=r(44),c=r(276),l=r(563);function d(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return c=e.done,e},e:function(e){l=!0,o=e},f:function(){try{c||null==r.return||r.return()}finally{if(l)throw o}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,r=new Array(t);i<t;i++)r[i]=e[i];return r}var m=n.a.extend({props:{gameMode:{type:String,default:"modeEndress"},questionCount:{type:Number,default:0}},methods:{isLastScore:function(e){return this.lastScore.name===e.name&&this.lastScore.score===e.score&&this.lastScore.createdAt===e.createdAt},displayScore:function(e){return"modeEndress"!==this.gameMode&&"modeSingle"!==this.gameMode?e.toFixed(2):e}},computed:{scoreStore:function(){return Object(o.e)(c.default,this.$store)},hiscores:function(){var e=null;switch(this.displayGameMode){case"modeSprint-10":e=this.scoreStore.sprint10Hiscores;break;case"modeSprint-30":e=this.scoreStore.sprint30Hiscores;break;case"modeEndress":e=this.scoreStore.endressHiscores;break;case"modeSingle":e=this.scoreStore.singleHiscores;break;case"minusSprint-10":e=this.scoreStore.minusSprint10Hiscores;break;case"minusSprint-30":e=this.scoreStore.minusSprint30Hiscores;break;case"minusEndress":e=this.scoreStore.minusEndressHiscores}if(!e)return[];console.log(e,this.displayGameMode);var t=e.map((function(e){return{no:0,name:e.name,score:e.score,createdAt:e.createdAt}}));if(t.length>0){var r,n=t[0].score,o=1,c=1,l=d(t);try{for(l.s();!(r=l.n()).done;){var f=r.value;f.score!=n&&(n=f.score,o=c),f.no=o,c++}}catch(e){l.e(e)}finally{l.f()}}return t},lastScore:function(){return this.scoreStore.lastScore?this.scoreStore.lastScore:Object(l.a)(this.displayGameMode)},displayGameMode:function(){return"modeEndress"==this.gameMode||"modeSingle"==this.gameMode?this.gameMode:"".concat(this.gameMode,"-").concat(this.questionCount)},displayGameModeTitle:function(){return"modeEndress"==this.gameMode||"minusEndress"==this.gameMode?"たいきゅうモード":"modeSingle"==this.gameMode?"ヒトケタス":"".concat(this.questionCount,"問モード")}}}),v=(r(579),r(91)),h=r(122),w=r.n(h),_=r(412),y=r(411),k=r(690),S=r(156),T=r(691),component=Object(v.a)(m,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",[r("v-card-title",{staticClass:"title"},[r("v-icon",[e._v("mdi-crown")]),e._v(e._s(e.displayGameModeTitle))],1),e._v(" "),r("v-card-text",e._l(e.hiscores,(function(t,i){return r("v-row",{key:i,staticClass:"rankings",class:{entry:e.isLastScore(t)}},[r("v-col",{staticClass:"no",attrs:{cols:"auto"}},[e._v(e._s(t.no))]),e._v(" "),r("v-col",{staticClass:"text-h6",attrs:{cols:"mr-auto"}},[e._v(e._s(t.name))]),e._v(" "),r("v-col",{staticClass:"value",attrs:{cols:"auto"}},[e._v(e._s(e.displayScore(t.score)))])],1)})),1)],1)}),[],!1,null,"082c8bcc",null);t.default=component.exports;w()(component,{VCard:_.a,VCardText:y.b,VCardTitle:y.c,VCol:k.a,VIcon:S.a,VRow:T.a})},586:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));r(30);var n=r(154);function o(e){console.log(e),n.a.firestore().collection("scores").add({mode:e.mode,name:e.name,score:e.score,createdAt:new Date(e.createdAt).setHours(0,0,0,0),timestamp:e.createdAt})}},587:function(e,t,r){"use strict";t.a=r.p+"assets/se/answer-ok.mp3"},588:function(e,t,r){"use strict";t.a=r.p+"assets/se/answer-ng.mp3"},589:function(e,t,r){"use strict";t.a=r.p+"assets/se/end.mp3"},626:function(e,t,r){var content=r(675);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(26).default)("1942994e",content,!0,{sourceMap:!1})},674:function(e,t,r){"use strict";r(626)},675:function(e,t,r){var n=r(25)(!1);n.push([e.i,'.game[data-v-2a57e341]{position:relative}.game>.ready[data-v-2a57e341]{top:0;left:0;height:100%;font-family:"Fredoka One";background-color:rgba(0,0,0,.5)}.game>.ready[data-v-2a57e341],.game>.ready>*[data-v-2a57e341]{position:absolute;width:100%;text-align:center}.game>.ready>*[data-v-2a57e341]{top:50%;transform:translateY(-50%);color:#fff;font-size:4rem}.ex-canvas[data-v-2a57e341]{height:16vh}.ex-canvas>*[data-v-2a57e341]{padding:.25rem;font-size:3rem;font-family:"Fredoka One";line-height:1;height:4rem;text-align:center}.score-container>.label[data-v-2a57e341]{font-weight:700}.score-container>.value[data-v-2a57e341]{font-family:"Fredoka One";font-size:1.6rem}.answer-container[data-v-2a57e341]{position:relative;font-size:2rem;text-align:left}.answer-container .effect[data-v-2a57e341]{position:absolute;top:0;left:0;font-family:"Fredoka One";font-size:2rem}.digit-keyboard>.row>.col[data-v-2a57e341]{padding:.25rem;text-align:center}.digit-keyboard>.row>.col>button[data-v-2a57e341]{font-size:4rem;font-family:"Fredoka One";width:80%;height:5rem;color:#0097a7}.digit-keyboard>.row>.col>button.selected[data-v-2a57e341]{background-color:#ffecb3}',""]),e.exports=n},684:function(e,t,r){"use strict";r.r(t);r(278),r(64),r(38),r(280),r(73),r(9),r(80),r(30);var n=r(2),o=r(44),c=r(275),l=r(276),d=r(586),f=r(587),m=r(588),v=r.p+"assets/se/answer-1.mp3",h=r.p+"assets/se/answer-2.mp3",w=r(589);var _=n.a.extend({data:function(){return{gameMode:"modeSingle",mode:"",readyCount:0,score:0,score2:0,question:0,answers:[],displayAnswers:[],startTime:0,answerTime:0,gameStartTime:0,gameTime:0,penaltyTime:0,gameTimerId:-1,progress:0,effects:{answer:"",answerTimerId:-1}}},mounted:function(){this.startGame()},destroyed:function(){console.log("destroyed"),this.endGame()},methods:{home:function(){this.$router.replace({path:"/game-plus-single/"})},startGame:function(){var e=this;this.score=0,this.score2=0,this.gameTime=0,this.penaltyTime=0,this.question=0,this.answers=Array(10).fill(0),this.displayAnswers=[],this.mode="ready",this.readyCount=3,this.gameTimerId=window.setInterval((function(){console.log(e.readyCount),0==e.readyCount--&&(window.clearInterval(e.gameTimerId),e.start())}),1e3)},start:function(){var e=this;this.gameStartTime=(new Date).getTime(),this.mode="game",this.next(),this.gameTimerId=window.setInterval((function(){(e.gameTime=(new Date).getTime()-e.gameStartTime,e.updateProgress())&&(e.addSingleScore(),e.endGame(),new Audio(w.a).play())}),200)},endGame:function(){this.mode="end",window.clearInterval(this.gameTimerId),this.gameTimerId=-1},next:function(){var e=3*Math.floor(this.score/3)+12*Math.floor(this.score/10)+6,t=Math.floor(this.score/5)+3;t=Math.min(t,20),e=Math.min(e,45),this.question=Math.floor(Math.random()*(e-t+1)+t),this.answers.fill(0),this.displayAnswers=[],this.startTime=(new Date).getTime(),this.answerTime=1e4-200*Math.floor(this.score/5),this.answerTime=Math.max(this.answerTime,2e3)},isSelected:function(e){return 0!==this.answers[e]},onAnswer:function(e){if("game"===this.mode){new Audio(f.a).play(),0===this.answers[e]?(this.answers[e]=e,this.displayAnswers.push(e)):(this.answers[e]=0,this.displayAnswers=this.displayAnswers.filter((function(t){return t!==e})));var t=this.answers.reduce((function(e,t){return e+t}));if(t===this.question){var r=this.answers.filter((function(e){return 0!==e})).length;this.score++;var n=null;r>6||r>4?n=new Audio(h):r>=2&&(n=new Audio(v)),n&&n.play();var time=this.answerTime-((new Date).getTime()-this.startTime);time=Math.max(time,0),this.score2+=Math.floor(this.score+time/50)*(1<<r),this.updateProgress(),this.answerEffect("o ".concat(this.displayAnswers.join("+"))),this.next()}else if(t>this.question){this.answers.fill(0),this.displayAnswers=[],this.answerEffect("x"),this.penaltyTime+=1e3,this.answerTime-=1e3,new Audio(m.a).play()}}},answerEffect:function(e){var t=this;this.effects.answer=e,-1!=this.effects.answerTimerId&&window.clearTimeout(this.effects.answerTimerId),this.effects.answerTimerId=window.setTimeout((function(){t.effects.answerTimerId=-1}),1e3)},getDisplayTime:function(){return(this.gameTime+this.penaltyTime)/1e3},updateProgress:function(){var time=this.answerTime-((new Date).getTime()-this.startTime);return time=Math.max(time,0),this.progress=100*time/this.answerTime,0===time},addSingleScore:function(){if(0!==this.score2){var e=this.accountStore.account.name,t={mode:"".concat(this.gameMode),name:e,score:this.score2,createdAt:this.gameStartTime};this.scoreStore.addScore(t),Object(d.a)(t)}}},computed:{accountStore:function(){return Object(o.e)(c.default,this.$store)},scoreStore:function(){return Object(o.e)(l.default,this.$store)},isEnd:function(){return"end"===this.mode},isReady:function(){return"ready"===this.mode},isGame:function(){return"game"===this.mode||"ready"===this.mode},displayScore:function(){return this.score2},showAnswerEffect:function(){return-1!=this.effects.answerTimerId}},filters:{answered:function(e){return 0!==e?e:""},time2:function(e){return e.toFixed(2)}}}),y=(r(674),r(91)),k=r(122),S=r.n(k),T=r(192),x=r(412),C=r(411),A=r(690),M=r(187),E=r(156),I=r(413),O=r(691),j=r(406),component=Object(y.a)(_,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"game"},[e.isEnd?r("v-card",[r("Hiscore",{attrs:{gameMode:e.gameMode}})],1):e._e(),e._v(" "),r("v-card",[r("v-card-text",{staticClass:"green lighten-4"},[r("v-row",{staticClass:"score-container"},[r("v-spacer"),e._v(" "),r("v-col",{staticClass:"label",attrs:{cols:"auto"}},[e._v("とくてん")]),e._v(" "),r("v-col",{staticClass:"value",attrs:{cols:"auto"}},[e._v(e._s(e.displayScore))])],1)],1),e._v(" "),e.isEnd?r("v-card-text",{staticClass:"green lighten-5"},[r("v-row",{staticClass:"ex-canvas text-center"},[r("v-col",{attrs:{cols:"12","align-self":"center"}},[r("v-btn",{attrs:{large:"",outlined:""},on:{click:function(t){return e.home()}}},[r("v-icon",[e._v("mdi-playlist-edit")]),e._v("ヒトケタス\n          ")],1),e._v(" "),r("v-btn",{attrs:{"x-large":"",color:"blue",dark:""},on:{click:function(t){return e.startGame()}}},[e._v("\n            もういちど\n          ")])],1),e._v(" "),r("v-col",{attrs:{"align-self":"center"}},[r("v-btn",{attrs:{to:"/"}},[r("v-icon",[e._v("mdi-home-circle")]),e._v("ほーむ\n          ")],1)],1)],1)],1):e.isGame?r("v-card-text",{staticClass:"green lighten-5"},[r("v-row",{staticClass:"ex-canvas"},[r("v-col",{staticClass:"answer-container",attrs:{cols:"mr-auto","align-self":"center"}},[e._l(e.displayAnswers,(function(t){return r("span",{key:t},[r("span",[e._v(e._s(t))]),e._v(" "),r("span",[e._v("+")])])})),e._v(" "),r("v-slide-y-reverse-transition",[e.showAnswerEffect?r("div",{staticClass:"effect orange--text"},[e._v("\n              "+e._s(e.effects.answer)+"\n            ")]):e._e()])],2),e._v(" "),r("v-col",{staticClass:"question-container",attrs:{cols:"auto","align-self":"center"}},[r("span",{staticClass:"light-green--text"},[e._v("\n            =\n          ")]),e._v(" "),r("span",{staticClass:"teal--text",attrs:{"align-self":"center"}},[e._v("\n            "+e._s(e.question)+"\n          ")])])],1),e._v(" "),r("v-progress-linear",{attrs:{color:"blue darken-2",height:"8"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1):e._e()],1),e._v(" "),e.isGame?r("v-card",[r("v-card-text",{staticClass:"digit-keyboard cyan lighten-4"},[r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"4"}},[r("v-btn",{class:{selected:e.isSelected(1)},on:{click:function(t){return e.onAnswer(1)}}},[e._v("1")])],1),e._v(" "),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{class:{selected:e.isSelected(2)},on:{click:function(t){return e.onAnswer(2)}}},[e._v("2")])],1),e._v(" "),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{class:{selected:e.isSelected(3)},on:{click:function(t){return e.onAnswer(3)}}},[e._v("3")])],1)],1),e._v(" "),r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"4"}},[r("v-btn",{class:{selected:e.isSelected(4)},on:{click:function(t){return e.onAnswer(4)}}},[e._v("4")])],1),e._v(" "),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{class:{selected:e.isSelected(5)},on:{click:function(t){return e.onAnswer(5)}}},[e._v("5")])],1),e._v(" "),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{class:{selected:e.isSelected(6)},on:{click:function(t){return e.onAnswer(6)}}},[e._v("6")])],1)],1),e._v(" "),r("v-row",{attrs:{justify:"center"}},[r("v-col",{attrs:{cols:"4"}},[r("v-btn",{class:{selected:e.isSelected(7)},on:{click:function(t){return e.onAnswer(7)}}},[e._v("7")])],1),e._v(" "),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{class:{selected:e.isSelected(8)},on:{click:function(t){return e.onAnswer(8)}}},[e._v("8")])],1),e._v(" "),r("v-col",{attrs:{cols:"4"}},[r("v-btn",{class:{selected:e.isSelected(9)},on:{click:function(t){return e.onAnswer(9)}}},[e._v("9")])],1)],1)],1)],1):e._e(),e._v(" "),e.isEnd?r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("Calendar")],1),e._v(" "),r("v-col",{attrs:{cols:"12"}},[r("Share")],1)],1):e._e(),e._v(" "),r("v-fade-transition",[e.isReady?r("div",{staticClass:"ready"},[r("v-slide-y-reverse-transition",[3===e.readyCount?r("div",[e._v("3")]):e._e()]),e._v(" "),r("v-slide-y-reverse-transition",[2===e.readyCount?r("div",[e._v("2")]):e._e()]),e._v(" "),r("v-slide-y-reverse-transition",[1===e.readyCount?r("div",[e._v("1")]):e._e()]),e._v(" "),r("v-slide-y-reverse-transition",[0===e.readyCount?r("div",[e._v("すたーと")]):e._e()])],1):e._e()])],1)}),[],!1,null,"2a57e341",null);t.default=component.exports;S()(component,{Hiscore:r(584).default,Calendar:r(577).default,Share:r(578).default}),S()(component,{VBtn:T.a,VCard:x.a,VCardText:C.b,VCol:A.a,VFadeTransition:M.b,VIcon:E.a,VProgressLinear:I.a,VRow:O.a,VSlideYReverseTransition:M.d,VSpacer:j.a})}}]);