(window.webpackJsonp=window.webpackJsonp||[]).push([[37,20,23,26,28],{561:function(t,e,n){var content=n(578);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("3d4d46a4",content,!0,{sourceMap:!1})},562:function(t,e,n){var content=n(580);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("d5d3b420",content,!0,{sourceMap:!1})},577:function(t,e,n){"use strict";n(561)},578:function(t,e,n){var r=n(25)(!1);r.push([t.i,'.ready[data-v-0291079c]{top:0;left:0;height:100%;font-family:"Fredoka One";background-color:rgba(0,0,0,.5)}.ready[data-v-0291079c],.ready>*[data-v-0291079c]{position:absolute;width:100%;text-align:center}.ready>*[data-v-0291079c]{top:50%;transform:translateY(-50%);color:#fff;font-size:4rem;font-weight:700}.ready>.count-1[data-v-0291079c],.ready>.count-2[data-v-0291079c],.ready>.count-3[data-v-0291079c]{-webkit-animation:a-count-3-data-v-0291079c .5s ease-in forwards,a-opacity-data-v-0291079c .5s ease-in forwards;animation:a-count-3-data-v-0291079c .5s ease-in forwards,a-opacity-data-v-0291079c .5s ease-in forwards}.ready>.count-0[data-v-0291079c]{-webkit-animation:a-count-0-data-v-0291079c 1s ease-out forwards,a-opacity-0-data-v-0291079c 1s ease-out forwards;animation:a-count-0-data-v-0291079c 1s ease-out forwards,a-opacity-0-data-v-0291079c 1s ease-out forwards}@-webkit-keyframes a-count-0-data-v-0291079c{0%{transform:scale(1)}to{transform:scale(5)}}@keyframes a-count-0-data-v-0291079c{0%{transform:scale(1)}to{transform:scale(5)}}@-webkit-keyframes a-opacity-0-data-v-0291079c{0%{opacity:1}to{opacity:0}}@keyframes a-opacity-0-data-v-0291079c{0%{opacity:1}to{opacity:0}}@-webkit-keyframes a-count-3-data-v-0291079c{0%{transform:scale(3)}to{transform:scale(1)}}@keyframes a-count-3-data-v-0291079c{0%{transform:scale(3)}to{transform:scale(1)}}@-webkit-keyframes a-opacity-data-v-0291079c{0%{opacity:0}to{opacity:1}}@keyframes a-opacity-data-v-0291079c{0%{opacity:0}to{opacity:1}}',""]),t.exports=r},579:function(t,e,n){"use strict";n(562)},580:function(t,e,n){var r=n(25)(!1);r.push([t.i,".effect-screen[data-v-59776227]{position:absolute;top:0;left:0;width:100%;height:100%;text-align:center;background-color:rgba(0,0,0,.5);-webkit-animation:a-screen-data-v-59776227 .5s ease-in;animation:a-screen-data-v-59776227 .5s ease-in}@-webkit-keyframes a-screen-data-v-59776227{0%{opacity:0}to{opacity:1}}@keyframes a-screen-data-v-59776227{0%{opacity:0}to{opacity:1}}.effect-screen>.star-container[data-v-59776227]{position:absolute;top:50%;left:50%;transform:translate(-50%,-100%)}.effect-screen>.star-container>.star[data-v-59776227]{-webkit-animation:a-star0-data-v-59776227 .5s ease-out 0s forwards,a-star-data-v-59776227 2s linear 1s infinite;animation:a-star0-data-v-59776227 .5s ease-out 0s forwards,a-star-data-v-59776227 2s linear 1s infinite}@-webkit-keyframes a-star0-data-v-59776227{0%{transform:scale(30);opacity:0}to{transform:scale(1);opacity:1}}@keyframes a-star0-data-v-59776227{0%{transform:scale(30);opacity:0}to{transform:scale(1);opacity:1}}@-webkit-keyframes a-star-data-v-59776227{0%{transform:rotateY(0deg)}to{transform:rotateY(1turn)}}@keyframes a-star-data-v-59776227{0%{transform:rotateY(0deg)}to{transform:rotateY(1turn)}}.effect-screen>.caption-text[data-v-59776227]{position:absolute;top:15%;left:0;width:100%;text-align:center;color:#fff;font-weight:700;font-size:1.8rem;letter-spacing:1.1rem;-webkit-animation:a-caption-text-data-v-59776227 1s ease-in-out;animation:a-caption-text-data-v-59776227 1s ease-in-out}@-webkit-keyframes a-caption-text-data-v-59776227{0%{transform:translateY(-100%)}20%{transform:translateY(0)}40%{transform:translateY(-50%)}60%{transform:translateY(0)}80%{transform:translateY(-10%)}to{transform:translateY(0)}}@keyframes a-caption-text-data-v-59776227{0%{transform:translateY(-100%)}20%{transform:translateY(0)}40%{transform:translateY(-50%)}60%{transform:translateY(0)}80%{transform:translateY(-10%)}to{transform:translateY(0)}}.effect-screen>.condition-text[data-v-59776227]{position:absolute;top:70vh;left:0;width:100%;text-align:center;color:#fff;font-weight:700;font-size:1.5rem}",""]),t.exports=r},591:function(t,e,n){"use strict";n.r(e);n(36);var r=n(2).a.extend({props:{readyCount:{type:Number,default:3}}}),o=(n(577),n(91)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"ready"},[3===t.readyCount?n("div",{staticClass:"count-3"},[t._v("3")]):t._e(),t._v(" "),2===t.readyCount?n("div",{staticClass:"count-2"},[t._v("2")]):t._e(),t._v(" "),1===t.readyCount?n("div",{staticClass:"count-1"},[t._v("1")]):t._e(),t._v(" "),0===t.readyCount?n("div",{staticClass:"count-0"},[t._v("すたーと")]):t._e()])}),[],!1,null,"0291079c",null);e.default=component.exports},592:function(t,e,n){"use strict";n.r(e);n(36),n(72);var r=n(2).a.extend({props:{nextConditionCount:{type:Number,default:0}},data:function(){return{shown:!1}},mounted:function(){var t=this;window.setTimeout((function(){t.shown=!0}),1e3)},methods:{onTap:function(){this.shown&&this.$emit("dismiss")}}}),o=(n(579),n(91)),c=n(122),d=n.n(c),l=n(187),f=n(156),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-fade-transition",[n("div",{staticClass:"effect-screen",on:{click:function(e){return t.onTap()}}},[n("div",{staticClass:"caption-text"},[t._v("スターをげっと")]),t._v(" "),n("div",{staticClass:"star-container"},[n("v-icon",{staticClass:"star",attrs:{color:"yellow",size:"50vw"}},[t._v("mdi-star")])],1),t._v(" "),-1!==t.nextConditionCount?n("div",{staticClass:"condition-text"},[t._v("つぎの"),n("v-icon",{attrs:{color:"yellow"}},[t._v("mdi-star")]),t._v("まで"),n("br"),t._v(" "+t._s(t.nextConditionCount)+"かいぷれい")],1):t._e()])])}),[],!1,null,"59776227",null);e.default=component.exports;d()(component,{VFadeTransition:l.b,VIcon:f.a})},593:function(t,e,n){"use strict";n.r(e);n(191),n(9);var r=n(2),o=n(44),c=n(276),d=n.p+"assets/se/get-star.mp3",l=[1,4,10,20,40,60],f=r.a.extend({data:function(){return{showGetStarScreen:!1,nextConditionCount:0,_playCount:0,mode_:"",readyCount_:0}},mounted:function(){},methods:{onChangeMode:function(t){(this.mode_=t,console.log(t),this.showGetStarScreen=!1,"end"===t)?(console.log(this._playCount,this.playCount),this._playCount!==this.playCount&&(this.showGetStarScreen=this.isGetStar(),this.nextConditionCount=this.nextCondition(),this.showGetStarScreen&&new Audio(d).play())):"game"===t&&(this._playCount=this.playCount)},onReady:function(t){this.readyCount_=t},isGetStar:function(){var t=this;return l.some((function(e){return e===t.playCount}))},nextCondition:function(){var t=this,e=l.findIndex((function(e){return e===t.playCount}));return e>=0&&e<l.length-1?l[e+1]-this.playCount:1},onDismissGetStarScreen:function(){this.showGetStarScreen=!1}},computed:{scoreStore:function(){return Object(o.e)(c.default,this.$store)},scores:function(){return this.scoreStore.scores||[]},playCount:function(){var dd=new Date,t=dd.setHours(0,0,0,0),e=dd.setDate(dd.getDate()+1);return this.scores.filter((function(e){return e.createdAt>=t})).filter((function(t){return t.createdAt<e})).length}}}),m=n(91),component=Object(m.a)(f,undefined,undefined,!1,null,null,null);e.default=component.exports},603:function(t,e,n){var content=n(622);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(26).default)("d3086332",content,!0,{sourceMap:!1})},621:function(t,e,n){"use strict";n(603)},622:function(t,e,n){var r=n(25)(!1);r.push([t.i,'.game[data-v-d8c77ba8]{position:relative}.ex-canvas[data-v-d8c77ba8]{height:16vh}.ex-canvas>*[data-v-d8c77ba8]{padding:.25rem;font-size:3rem;font-family:"Fredoka One";line-height:1;height:4rem;text-align:center}.score-container>.label[data-v-d8c77ba8]{font-weight:700}.score-container>.value[data-v-d8c77ba8]{font-family:"Fredoka One";font-size:1.6rem}.answer-container[data-v-d8c77ba8]{position:relative;font-size:2rem;text-align:left}.answer-container .effect[data-v-d8c77ba8]{position:absolute;top:0;left:0;font-family:"Fredoka One";font-size:2rem}',""]),t.exports=r},649:function(t,e,n){"use strict";n.r(e);n(277),n(64),n(38),n(279),n(9),n(80),n(72),n(30);var r=n(2),o=n(581),c=n(582),d=n(44),l=n(275),f=n(276),m=n(586),v=n(587),h=n(588),w=n.p+"assets/se/answer-1.mp3",y=n.p+"assets/se/answer-2.mp3",_=n(589);var C=r.a.extend({mixins:[o.default],components:{NumPad:c.default},data:function(){return{gameMode:"modeSingle",mode:"",readyCount:0,score:0,score2:0,question:0,answers:[],displayAnswers:[],startTime:0,answerTime:0,gameStartTime:0,gameTime:0,penaltyTime:0,progress:0,effects:{answer:"",answerTimerId:-1}}},mounted:function(){this.startGame()},destroyed:function(){console.log("destroyed"),this.endGame()},methods:{home:function(){this.$router.replace({path:"/game-plus-single/"})},startGame:function(){this.score=0,this.score2=0,this.gameTime=0,this.penaltyTime=0,this.question=0,this.answers=Array(10).fill(0),this.displayAnswers=[],this.ready()},onNext:function(){this.next()},onUpdateProgress:function(){this.updateProgress()&&(this.endGame(),this.addSingleScore(),new Audio(_.a).play())},next:function(){this.$refs.numPad.reset();var t=3*Math.floor(this.score/3)+12*Math.floor(this.score/10)+6,e=Math.floor(this.score/5)+3;e=Math.min(e,20),t=Math.min(t,45),this.question=Math.floor(Math.random()*(t-e+1)+e),this.answers.fill(0),this.displayAnswers=[],this.startTime=(new Date).getTime(),this.answerTime=1e4-200*Math.floor(this.score/5),this.answerTime=Math.max(this.answerTime,2e3)},isSelected:function(t){return 0!==this.answers[t]},onSelect:function(t,e){this.onAnswer(t)},onAnswer:function(t){if("game"===this.mode){new Audio(v.a).play(),0===this.answers[t]?(this.answers[t]=t,this.displayAnswers.push(t)):(this.answers[t]=0,this.displayAnswers=this.displayAnswers.filter((function(e){return e!==t})));var e=this.answers.reduce((function(t,e){return t+e}));if(e===this.question){var n=this.answers.filter((function(t){return 0!==t})).length;this.score++;var r=null;n>6||n>4?r=new Audio(y):n>=2&&(r=new Audio(w)),r&&r.play();var time=this.answerTime-((new Date).getTime()-this.startTime);time=Math.max(time,0),this.score2+=Math.floor(this.score+time/50)*(1<<n),this.updateProgress(),this.answerEffect("o ".concat(this.displayAnswers.join("+"))),this.next()}else if(e>this.question){this.$refs.numPad.reset(),this.answers.fill(0),this.displayAnswers=[],this.answerEffect("x"),this.penaltyTime+=1e3,this.answerTime-=1e3,new Audio(h.a).play()}}},answerEffect:function(t){var e=this;this.effects.answer=t,-1!=this.effects.answerTimerId&&window.clearTimeout(this.effects.answerTimerId),this.effects.answerTimerId=window.setTimeout((function(){e.effects.answerTimerId=-1}),1e3)},getDisplayTime:function(){return(this.gameTime+this.penaltyTime)/1e3},updateProgress:function(){var time=this.answerTime-((new Date).getTime()-this.startTime);return time=Math.max(time,0),this.progress=100*time/this.answerTime,0===time},addSingleScore:function(){if(0!==this.score2){var t=this.accountStore.account.name,e={mode:"".concat(this.gameMode),name:t,score:this.score2,createdAt:this.gameStartTime};this.scoreStore.addScore(e),Object(m.a)(e)}}},computed:{accountStore:function(){return Object(d.e)(l.default,this.$store)},scoreStore:function(){return Object(d.e)(f.default,this.$store)},isEnd:function(){return"end"===this.mode},isReady:function(){return"ready"===this.mode},isGame:function(){return"game"===this.mode||"ready"===this.mode},displayScore:function(){return this.score2},showAnswerEffect:function(){return-1!=this.effects.answerTimerId}},filters:{answered:function(t){return 0!==t?t:""},time2:function(t){return t.toFixed(2)}}}),x=(n(621),n(91)),S=n(122),k=n.n(S),T=n(193),M=n(413),A=n(411),G=n(706),Y=n(156),O=n(412),E=n(707),P=n(187),j=n(406),component=Object(x.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game"},[t.isEnd?n("v-card",[n("Hiscore",{attrs:{gameMode:t.gameMode}})],1):t._e(),t._v(" "),n("v-card",[n("v-card-text",{staticClass:"green lighten-4"},[n("v-row",{staticClass:"score-container"},[n("v-spacer"),t._v(" "),n("v-col",{staticClass:"label",attrs:{cols:"auto"}},[t._v("とくてん")]),t._v(" "),n("v-col",{staticClass:"value",attrs:{cols:"auto"}},[t._v(t._s(t.displayScore))])],1)],1),t._v(" "),t.isEnd?n("v-card-text",{staticClass:"green lighten-5"},[n("v-row",{staticClass:"ex-canvas text-center"},[n("v-col",{attrs:{cols:"12","align-self":"center"}},[n("v-btn",{attrs:{large:"",outlined:""},on:{click:function(e){return t.home()}}},[n("v-icon",[t._v("mdi-playlist-edit")]),t._v("ヒトケタス\n          ")],1),t._v(" "),n("v-btn",{attrs:{"x-large":"",color:"blue",dark:""},on:{click:function(e){return t.startGame()}}},[t._v("\n            もういちど\n          ")])],1),t._v(" "),n("v-col",{attrs:{"align-self":"center"}},[n("v-btn",{attrs:{to:"/"}},[n("v-icon",[t._v("mdi-home-circle")]),t._v("ほーむ\n          ")],1)],1)],1)],1):t.isGame?n("v-card-text",{staticClass:"green lighten-5"},[n("v-row",{staticClass:"ex-canvas"},[n("v-col",{staticClass:"answer-container",attrs:{cols:"mr-auto","align-self":"center"}},[t._l(t.displayAnswers,(function(e){return n("span",{key:e},[n("span",[t._v(t._s(e))]),t._v(" "),n("span",[t._v("+")])])})),t._v(" "),n("v-slide-y-reverse-transition",[t.showAnswerEffect?n("div",{staticClass:"effect orange--text"},[t._v("\n              "+t._s(t.effects.answer)+"\n            ")]):t._e()])],2),t._v(" "),n("v-col",{staticClass:"question-container",attrs:{cols:"auto","align-self":"center"}},[n("span",{staticClass:"light-green--text"},[t._v("\n            =\n          ")]),t._v(" "),n("span",{staticClass:"teal--text",attrs:{"align-self":"center"}},[t._v("\n            "+t._s(t.question)+"\n          ")])])],1),t._v(" "),n("v-progress-linear",{attrs:{color:"blue darken-2",height:"8"},model:{value:t.progress,callback:function(e){t.progress=e},expression:"progress"}})],1):t._e()],1),t._v(" "),t.isGame?n("NumPad",{ref:"numPad",attrs:{mode:"select"},on:{tap:t.onSelect}}):t._e(),t._v(" "),t.isEnd?n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("Calendar")],1),t._v(" "),n("v-col",{attrs:{cols:"12"}},[n("Share")],1)],1):t._e()],1)}),[],!1,null,"d8c77ba8",null);e.default=component.exports;k()(component,{Hiscore:n(583).default,Calendar:n(570).default,Share:n(571).default}),k()(component,{VBtn:T.a,VCard:M.a,VCardText:A.b,VCol:G.a,VIcon:Y.a,VProgressLinear:O.a,VRow:E.a,VSlideYReverseTransition:P.d,VSpacer:j.a})},719:function(t,e,n){"use strict";n.r(e);var r=n(19),o=(n(58),n(2)),c=n(593),d=n(649),l=n(591),f=n(592),m=o.a.extend({mixins:[c.default],components:{GamePlusSingle:d.default,ReadyScreen:l.default,GetStarScreen:f.default},asyncData:function(t){return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.params,console.log(t),e.abrupt("return",{mode:n.game});case 3:case"end":return e.stop()}}),e)})))()}}),v=n(91),component=Object(v.a)(m,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("GamePlusSingle",{on:{"change-mode":t.onChangeMode,ready:t.onReady}}),t._v(" "),"ready"===t.mode_?n("ReadyScreen",{attrs:{readyCount:t.readyCount_}}):t._e(),t._v(" "),t.showGetStarScreen?n("GetStarScreen",{attrs:{nextConditionCount:t.nextConditionCount},on:{dismiss:t.onDismissGetStarScreen}}):t._e()],1)}),[],!1,null,null,null);e.default=component.exports}}]);