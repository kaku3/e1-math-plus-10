(window.webpackJsonp=window.webpackJsonp||[]).push([[19,23],{421:function(e,t,n){var content=n(428);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(26).default)("3afc2df3",content,!0,{sourceMap:!1})},427:function(e,t,n){"use strict";n(421)},428:function(e,t,n){var r=n(25)(!1);r.push([e.i,'.digit-keyboard>.row>.col[data-v-04788bc0]{padding:.25rem;text-align:center}.digit-keyboard>.row>.col>button[data-v-04788bc0]{font-size:4rem;font-family:"Fredoka One";width:80%;height:5rem;color:#0097a7}.digit-keyboard>.row>.col>button.selected[data-v-04788bc0]{background-color:#ffecb3}',""]),e.exports=r},564:function(e,t,n){"use strict";n.r(t);n(72);var r=n(2),o=n.p+"assets/se/count.mp3",c=n.p+"assets/se/count-0.mp3",l=r.a.extend({data:function(){return{mode:"",readyCount:0,gameTimerId:-1,gameStartTime:0,gameTime:0}},methods:{ready:function(){var e=this;this.changeMode("ready"),this.readyCount=3,new Audio(o).play(),this.$emit("ready",e.readyCount),this.gameTimerId=window.setInterval((function(){if(console.log(e.readyCount),0==e.readyCount--)return window.clearInterval(e.gameTimerId),void e.start();e.readyCount>0?new Audio(o).play():new Audio(c).play(),e.$emit("ready",e.readyCount)}),1e3)},start:function(){var e=this;this.gameStartTime=(new Date).getTime(),this.changeMode("game"),this.onNext(),this.gameTimerId=window.setInterval((function(){e.gameTime=(new Date).getTime()-e.gameStartTime,e.onUpdateProgress()}),200)},onNext:function(){console.log("override this method")},onUpdateProgress:function(){console.log("override this method")},endGame:function(){var e=this;this.$nextTick((function(){e.changeMode("end")})),window.clearInterval(this.gameTimerId),this.gameTimerId=-1},changeMode:function(e){this.mode=e,this.$emit("change-mode",e)}}}),d=n(91),component=Object(d.a)(l,undefined,undefined,!1,null,null,null);t.default=component.exports},565:function(e,t,n){"use strict";n.r(t);n(279);var r=n(2).a.extend({props:{mode:{type:String,default:"tap"}},data:function(){return{selected:[]}},mounted:function(){this.reset()},methods:{reset:function(){this.selected=Array(10).fill(!1)},onClick:function(e){"select"===this.mode&&this.$set(this.selected,e,!this.selected[e]),this.$emit("tap",e,this.selected[e])},isSelected:function(e){return this.selected[e]}}}),o=(n(427),n(91)),c=n(122),l=n.n(c),d=n(193),f=n(413),h=n(411),m=n(716),v=n(717),component=Object(o.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-text",{staticClass:"digit-keyboard cyan lighten-4"},[n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("v-btn",{class:{selected:e.isSelected(1)},on:{pointerdown:function(t){return e.onClick(1)}}},[e._v("1")])],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-btn",{class:{selected:e.isSelected(2)},on:{pointerdown:function(t){return e.onClick(2)}}},[e._v("2")])],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-btn",{class:{selected:e.isSelected(3)},on:{pointerdown:function(t){return e.onClick(3)}}},[e._v("3")])],1)],1),e._v(" "),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("v-btn",{class:{selected:e.isSelected(4)},on:{pointerdown:function(t){return e.onClick(4)}}},[e._v("4")])],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-btn",{class:{selected:e.isSelected(5)},on:{pointerdown:function(t){return e.onClick(5)}}},[e._v("5")])],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-btn",{class:{selected:e.isSelected(6)},on:{pointerdown:function(t){return e.onClick(6)}}},[e._v("6")])],1)],1),e._v(" "),n("v-row",{attrs:{justify:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("v-btn",{class:{selected:e.isSelected(7)},on:{pointerdown:function(t){return e.onClick(7)}}},[e._v("7")])],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-btn",{class:{selected:e.isSelected(8)},on:{pointerdown:function(t){return e.onClick(8)}}},[e._v("8")])],1),e._v(" "),n("v-col",{attrs:{cols:"4"}},[n("v-btn",{class:{selected:e.isSelected(9)},on:{pointerdown:function(t){return e.onClick(9)}}},[e._v("9")])],1)],1)],1)],1)}),[],!1,null,"04788bc0",null);t.default=component.exports;l()(component,{VBtn:d.a,VCard:f.a,VCardText:h.b,VCol:m.a,VRow:v.a})},569:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));n(30);var r=n(154);function o(e){console.log(e),r.a.firestore().collection("scores").add({mode:e.mode,name:e.name,score:e.score,createdAt:new Date(e.createdAt).setHours(0,0,0,0),timestamp:e.createdAt})}},570:function(e,t,n){"use strict";t.a=n.p+"assets/se/answer-ok.mp3"},571:function(e,t,n){"use strict";t.a=n.p+"assets/se/answer-ng.mp3"},572:function(e,t,n){"use strict";t.a=n.p+"assets/se/end.mp3"},601:function(e,t,n){var content=n(618);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(26).default)("92ac6606",content,!0,{sourceMap:!1})},617:function(e,t,n){"use strict";n(601)},618:function(e,t,n){var r=n(25)(!1);r.push([e.i,'.game[data-v-1a182539]{position:relative}.ex-canvas[data-v-1a182539]{min-height:16vh}.ex-canvas>*[data-v-1a182539]{padding:.25rem;font-size:3rem;font-family:"Fredoka One";line-height:1;height:4rem;text-align:center}.score-container>.label[data-v-1a182539]{font-weight:700}.score-container>.value[data-v-1a182539]{font-family:"Fredoka One";font-size:1.6rem}.answer-container[data-v-1a182539]{position:relative;font-size:2rem;text-align:left}.answer-container .effect[data-v-1a182539]{position:absolute;top:0;left:0;font-family:"Fredoka One";font-size:2rem}',""]),e.exports=r},654:function(e,t,n){"use strict";n.r(t);n(277),n(64),n(38),n(279),n(9),n(80),n(72),n(30);var r=n(2),o=n(564),c=n(565),l=n(44),d=n(275),f=n(276),h=n(569),m=n(570),v=n(571),w=n.p+"assets/se/answer-1.mp3",y=n.p+"assets/se/answer-2.mp3",_=n(572);var T=r.a.extend({mixins:[o.default],components:{NumPad:c.default},data:function(){return{gameMode:"modeSingle",mode:"",readyCount:0,score:0,score2:0,question:0,answers:[],displayAnswers:[],startTime:0,answerTime:0,gameStartTime:0,gameTime:0,penaltyTime:0,progress:0,effects:{answer:"",answerTimerId:-1}}},mounted:function(){this.startGame()},destroyed:function(){console.log("destroyed"),this.endGame()},methods:{home:function(){this.$router.replace({path:"/game-plus-single/"})},startGame:function(){this.score=0,this.score2=0,this.gameTime=0,this.penaltyTime=0,this.question=0,this.answers=Array(10).fill(0),this.displayAnswers=[],this.ready()},onNext:function(){this.next()},onUpdateProgress:function(){this.updateProgress()&&(this.endGame(),this.addSingleScore(),new Audio(_.a).play())},next:function(){this.$refs.numPad.reset();var e=3*Math.floor(this.score/3)+12*Math.floor(this.score/10)+6,t=Math.floor(this.score/5)+3;t=Math.min(t,20),e=Math.min(e,45),this.question=Math.floor(Math.random()*(e-t+1)+t),this.answers.fill(0),this.displayAnswers=[],this.startTime=(new Date).getTime(),this.answerTime=1e4-200*Math.floor(this.score/5),this.answerTime=Math.max(this.answerTime,2e3)},isSelected:function(e){return 0!==this.answers[e]},onSelect:function(e,t){this.onAnswer(e)},onAnswer:function(e){if("game"===this.mode){new Audio(m.a).play(),0===this.answers[e]?(this.answers[e]=e,this.displayAnswers.push(e)):(this.answers[e]=0,this.displayAnswers=this.displayAnswers.filter((function(t){return t!==e})));var t=this.answers.reduce((function(e,t){return e+t}));if(t===this.question){var n=this.answers.filter((function(e){return 0!==e})).length;this.score++;var r=null;n>6||n>4?r=new Audio(y):n>=2&&(r=new Audio(w)),r&&r.play();var time=this.answerTime-((new Date).getTime()-this.startTime);time=Math.max(time,0),this.score2+=Math.floor(this.score+time/50)*(1<<n),this.updateProgress(),this.answerEffect("o ".concat(this.displayAnswers.join("+"))),this.next()}else if(t>this.question){this.$refs.numPad.reset(),this.answers.fill(0),this.displayAnswers=[],this.answerEffect("x"),this.penaltyTime+=1e3,this.answerTime-=1e3,new Audio(v.a).play()}}},answerEffect:function(e){var t=this;this.effects.answer=e,-1!=this.effects.answerTimerId&&window.clearTimeout(this.effects.answerTimerId),this.effects.answerTimerId=window.setTimeout((function(){t.effects.answerTimerId=-1}),1e3)},getDisplayTime:function(){return(this.gameTime+this.penaltyTime)/1e3},updateProgress:function(){var time=this.answerTime-((new Date).getTime()-this.startTime);return time=Math.max(time,0),this.progress=100*time/this.answerTime,0===time},addSingleScore:function(){if(0!==this.score2){var e=this.accountStore.account.name,t={mode:"".concat(this.gameMode),name:e,score:this.score2,createdAt:this.gameStartTime};this.scoreStore.addScore(t),Object(h.a)(t)}}},computed:{accountStore:function(){return Object(l.e)(d.default,this.$store)},scoreStore:function(){return Object(l.e)(f.default,this.$store)},isEnd:function(){return"end"===this.mode},isReady:function(){return"ready"===this.mode},isGame:function(){return"game"===this.mode||"ready"===this.mode},displayScore:function(){return this.score2},showAnswerEffect:function(){return-1!=this.effects.answerTimerId}},filters:{answered:function(e){return 0!==e?e:""},time2:function(e){return e.toFixed(2)}}}),x=(n(617),n(91)),C=n(122),S=n.n(C),k=n(193),A=n(413),M=n(411),I=n(716),V=n(156),$=n(414),P=n(717),j=n(187),E=n(406),component=Object(x.a)(T,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"game"},[e.isEnd?n("v-card",[n("Hiscore",{attrs:{gameMode:e.gameMode}})],1):e._e(),e._v(" "),n("v-card",[n("v-card-text",{staticClass:"green lighten-4"},[n("v-row",{staticClass:"score-container"},[n("v-spacer"),e._v(" "),n("v-col",{staticClass:"label",attrs:{cols:"auto"}},[e._v("とくてん")]),e._v(" "),n("v-col",{staticClass:"value",attrs:{cols:"auto"}},[e._v(e._s(e.displayScore))])],1)],1),e._v(" "),e.isEnd?n("v-card-text",{staticClass:"green lighten-5"},[n("v-row",{staticClass:"ex-canvas text-center"},[n("v-col",{attrs:{cols:"12","align-self":"center"}},[n("v-btn",{attrs:{large:"",outlined:""},on:{click:function(t){return e.home()}}},[n("v-icon",[e._v("mdi-playlist-edit")]),e._v("ヒトケタス\n          ")],1),e._v(" "),n("v-btn",{attrs:{"x-large":"",color:"blue",dark:""},on:{click:function(t){return e.startGame()}}},[e._v("\n            もういちど\n          ")])],1),e._v(" "),n("v-col",{attrs:{"align-self":"center"}},[n("v-btn",{attrs:{to:"/"}},[n("v-icon",[e._v("mdi-home-circle")]),e._v("ほーむ\n          ")],1)],1)],1)],1):e.isGame?n("v-card-text",{staticClass:"green lighten-5"},[n("v-row",{staticClass:"ex-canvas"},[n("v-col",{staticClass:"answer-container",attrs:{cols:"mr-auto","align-self":"center"}},[e._l(e.displayAnswers,(function(t){return n("span",{key:t},[n("span",[e._v(e._s(t))]),e._v(" "),n("span",[e._v("+")])])})),e._v(" "),n("v-slide-y-reverse-transition",[e.showAnswerEffect?n("div",{staticClass:"effect orange--text"},[e._v("\n              "+e._s(e.effects.answer)+"\n            ")]):e._e()])],2),e._v(" "),n("v-col",{staticClass:"question-container",attrs:{cols:"auto","align-self":"center"}},[n("span",{staticClass:"light-green--text"},[e._v("\n            =\n          ")]),e._v(" "),n("span",{staticClass:"teal--text",attrs:{"align-self":"center"}},[e._v("\n            "+e._s(e.question)+"\n          ")])])],1),e._v(" "),n("v-progress-linear",{attrs:{color:"blue darken-2",height:"8"},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1):e._e()],1),e._v(" "),e.isGame?n("NumPad",{ref:"numPad",attrs:{mode:"select"},on:{tap:e.onSelect}}):e._e()],1)}),[],!1,null,"1a182539",null);t.default=component.exports;S()(component,{Hiscore:n(594).default}),S()(component,{VBtn:k.a,VCard:A.a,VCardText:M.b,VCol:I.a,VIcon:V.a,VProgressLinear:$.a,VRow:P.a,VSlideYReverseTransition:j.d,VSpacer:E.a})}}]);